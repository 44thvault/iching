<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Lucky Cat I Ching</title>
  <style>
    body {
      font-family: monospace;
      background: #0f1115;
      color: #f2f2f2;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }
    .cat {
      white-space: pre;
      font-size: 14px;
      line-height: 1.2;
      margin-bottom: 16px;
    }
    button, select {
      background: #ffd54a;
      border: none;
      padding: 10px 16px;
      font-size: 14px;
      cursor: pointer;
      margin: 6px;
    }
    button:hover { background: #ffec8b; }
    .coins, .hexagram, .result {
      margin-top: 16px;
      text-align: center;
    }
    .line { font-size: 18px; }
  </style>
</head>
<body>

<div class="cat">
  /\\_/\\
 ( o   o )   < Lucky Cat >
  =  ^  =    flipping coins
  |  ___|
  | |   |
</div>

<select id="mode">
  <option value="business">Business</option>
  <option value="relationship">Relationship</option>
  <option value="yesno">Yes / No</option>
</select>

<button onclick="throwCoins()">Throw Coins</button>

<div class="coins" id="coins"></div>
<div class="hexagram" id="hexagram"></div>
<div class="result" id="result"></div>

<script>
// Full hexagram data keyed by King Wen number
// Binary lines are bottom (index 0) to top (index 5)
const hexagramIndex = {
  "111111": 1,
  "000000": 2,
  "010001": 3,
  "100010": 4,
  "010111": 5,
  "111010": 6,
  "000010": 7,
  "010000": 8,
  "110111": 9,
  "111011": 10,
  "000111": 11,
  "111000": 12,
  "101111": 13,
  "111101": 14,
  "000100": 15,
  "001000": 16,
  "100110": 17,
  "011001": 18,
  "110000": 19,
  "000011": 20,
  "101001": 21,
  "100101": 22,
  "100000": 23,
  "000001": 24,
  "111001": 25,
  "100111": 26,
  "100001": 27,
  "011110": 28,
  "010010": 29,
  "101101": 30,
  "001110": 31,
  "011100": 32,
  "001111": 33,
  "111100": 34,
  "000101": 35,
  "101000": 36,
  "101011": 37,
  "110101": 38,
  "001010": 39,
  "010100": 40,
  "110001": 41,
  "100011": 42,
  "111110": 43,
  "011111": 44,
  "000110": 45,
  "011000": 46,
  "010110": 47,
  "011010": 48,
  "101110": 49,
  "011101": 50,
  "001001": 51,
  "100100": 52,
  "110100": 53,
  "001011": 54,
  "001101": 55,
  "101100": 56,
  "110110": 57,
  "011011": 58,
  "010011": 59,
  "110010": 60,
  "110011": 61,
  "001100": 62,
  "101010": 63,
  "010101": 64
};

const hexagramMeanings = {
  1:{name:"The Creative",business:"Lead boldly. Strong momentum favors initiative.",relationship:"Be clear, direct, and confident.",yesno:"Yes."},
  2:{name:"The Receptive",business:"Support, adapt, and follow what works.",relationship:"Nurture and listen more than act.",yesno:"Yes, but be patient."},
  3:{name:"Difficulty at the Beginning",business:"Chaos now, payoff later. Stay disciplined.",relationship:"Awkward growth pains are normal.",yesno:"Not yet."},
  4:{name:"Youthful Folly",business:"Seek advice. Don’t rush uninformed.",relationship:"Misunderstandings—learn together.",yesno:"No."},
  5:{name:"Waiting",business:"Hold position. Timing matters.",relationship:"Let things unfold naturally.",yesno:"Maybe."},
  6:{name:"Conflict",business:"Avoid escalation. Choose battles carefully.",relationship:"Tension needs honesty or distance.",yesno:"No."},
  7:{name:"The Army",business:"Discipline and structure bring success.",relationship:"Shared purpose strengthens bonds.",yesno:"Yes."},
  8:{name:"Holding Together",business:"Alliances matter. Choose partners wisely.",relationship:"Commitment deepens trust.",yesno:"Yes."},
  9:{name:"Small Taming",business:"Small gains only. Don’t force growth.",relationship:"Subtle progress, stay gentle.",yesno:"Maybe."},
  10:{name:"Treading",business:"Proceed carefully. Watch your step.",relationship:"Respect boundaries.",yesno:"Yes, cautiously."},
  11:{name:"Peace",business:"Flow and harmony. Expansion favored.",relationship:"Mutual understanding.",yesno:"Yes."},
  12:{name:"Standstill",business:"Stagnation. Don’t push.",relationship:"Distance or pause needed.",yesno:"No."},
  13:{name:"Fellowship",business:"Collaborate. Shared vision wins.",relationship:"Strong partnership energy.",yesno:"Yes."},
  14:{name:"Great Possession",business:"Use abundance responsibly.",relationship:"Confidence attracts.",yesno:"Yes."},
  15:{name:"Modesty",business:"Stay grounded. Quiet success.",relationship:"Humility deepens bonds.",yesno:"Yes."},
  16:{name:"Enthusiasm",business:"Momentum builds—channel it.",relationship:"Joy and excitement rise.",yesno:"Yes."},
  17:{name:"Following",business:"Adapt to circumstances.",relationship:"Go with the flow.",yesno:"Yes."},
  18:{name:"Work on the Decayed",business:"Fix what’s broken.",relationship:"Address old wounds.",yesno:"Yes, if corrected."},
  19:{name:"Approach",business:"Opportunity is near.",relationship:"Closeness increases.",yesno:"Yes."},
  20:{name:"Contemplation",business:"Step back and observe.",relationship:"Gain perspective.",yesno:"Maybe."},
  21:{name:"Biting Through",business:"Decisive action needed.",relationship:"Clear the air.",yesno:"Yes."},
  22:{name:"Grace",business:"Presentation matters.",relationship:"Charm smooths tension.",yesno:"Yes."},
  23:{name:"Splitting Apart",business:"Unsustainable structures fall.",relationship:"Separation or truth.",yesno:"No."},
  24:{name:"Return",business:"Fresh start after decline.",relationship:"Reconnection possible.",yesno:"Yes."},
  25:{name:"Innocence",business:"Act honestly.",relationship:"Trust and sincerity.",yesno:"Yes."},
  26:{name:"Great Taming",business:"Restraint builds power.",relationship:"Patience strengthens.",yesno:"Maybe."},
  27:{name:"Nourishment",business:"Mind inputs and resources.",relationship:"Careful words matter.",yesno:"Maybe."},
  28:{name:"Great Excess",business:"Pressure point—rebalance now.",relationship:"Too much intensity.",yesno:"No."},
  29:{name:"The Abyss",business:"Risky terrain. Stay alert.",relationship:"Emotional depth, tread carefully.",yesno:"No."},
  30:{name:"The Clinging",business:"Clarity through consistency.",relationship:"Mutual illumination.",yesno:"Yes."},
  31:{name:"Influence",business:"Soft power works.",relationship:"Mutual attraction.",yesno:"Yes."},
  32:{name:"Duration",business:"Long-term effort rewarded.",relationship:"Stability favored.",yesno:"Yes."},
  33:{name:"Retreat",business:"Strategic withdrawal.",relationship:"Create space.",yesno:"No."},
  34:{name:"Great Power",business:"Act with restraint.",relationship:"Strong emotions—control them.",yesno:"Yes."},
  35:{name:"Progress",business:"Advancement visible.",relationship:"Things improve.",yesno:"Yes."},
  36:{name:"Darkening of the Light",business:"Stay low-profile.",relationship:"Protect your heart.",yesno:"No."},
  37:{name:"The Family",business:"Roles and order matter.",relationship:"Domestic harmony.",yesno:"Yes."},
  38:{name:"Opposition",business:"Different paths—don’t force unity.",relationship:"Accept differences.",yesno:"No."},
  39:{name:"Obstruction",business:"Delays ahead. Reroute.",relationship:"External stress.",yesno:"No."},
  40:{name:"Deliverance",business:"Relief after pressure.",relationship:"Resolution possible.",yesno:"Yes."},
  41:{name:"Decrease",business:"Simplify to strengthen.",relationship:"Let go of excess.",yesno:"Maybe."},
  42:{name:"Increase",business:"Growth through generosity.",relationship:"Mutual support.",yesno:"Yes."},
  43:{name:"Breakthrough",business:"Speak truth publicly.",relationship:"Honesty required.",yesno:"Yes."},
  44:{name:"Coming to Meet",business:"Unexpected influence.",relationship:"Power imbalance.",yesno:"No."},
  45:{name:"Gathering Together",business:"Collective strength.",relationship:"Community support.",yesno:"Yes."},
  46:{name:"Pushing Upward",business:"Steady progress.",relationship:"Gradual closeness.",yesno:"Yes."},
  47:{name:"Oppression",business:"Endure hardship wisely.",relationship:"Emotional strain.",yesno:"No."},
  48:{name:"The Well",business:"Shared resources sustain.",relationship:"Mutual giving.",yesno:"Yes."},
  49:{name:"Revolution",business:"Radical change required.",relationship:"Transform or end.",yesno:"Yes."},
  50:{name:"The Cauldron",business:"Transformation through skill.",relationship:"Growth together.",yesno:"Yes."},
  51:{name:"The Arousing",business:"Shock brings clarity.",relationship:"Sudden change.",yesno:"Maybe."},
  52:{name:"Keeping Still",business:"Pause action.",relationship:"Stillness heals.",yesno:"No."},
  53:{name:"Development",business:"Slow, stable growth.",relationship:"Trust builds over time.",yesno:"Yes."},
  54:{name:"The Marrying Maiden",business:"Secondary role.",relationship:"Unequal footing.",yesno:"No."},
  55:{name:"Abundance",business:"Peak visibility.",relationship:"Emotional fullness.",yesno:"Yes."},
  56:{name:"The Wanderer",business:"Temporary position.",relationship:"Unsettled phase.",yesno:"Maybe."},
  57:{name:"The Gentle",business:"Influence subtly.",relationship:"Soft persistence.",yesno:"Yes."},
  58:{name:"The Joyous",business:"Open communication.",relationship:"Shared happiness.",yesno:"Yes."},
  59:{name:"Dispersion",business:"Dissolve obstacles.",relationship:"Healing distance.",yesno:"Yes."},
  60:{name:"Limitation",business:"Set boundaries.",relationship:"Clear agreements.",yesno:"Maybe."},
  61:{name:"Inner Truth",business:"Integrity wins.",relationship:"Deep honesty.",yesno:"Yes."},
  62:{name:"Small Exceeding",business:"Mind details.",relationship:"Caution pays.",yesno:"Maybe."},
  63:{name:"After Completion",business:"Stay vigilant.",relationship:"Balance achieved.",yesno:"Yes."},
  64:{name:"Before Completion",business:"Almost there—don’t rush.",relationship:"Unfinished business.",yesno:"Not yet."}
};

function coin() {
  // heads = 3, tails = 2
  return Math.random() < 0.5 ? 2 : 3;
}

function throwCoins() {
  const mode = document.getElementById('mode').value;
  let lines = [];
  let coinText = '';

  for (let i = 0; i < 6; i++) {
    const c1 = coin();
    const c2 = coin();
    const c3 = coin();
    const sum = c1 + c2 + c3;

    // 6 = old yin, 7 = young yang, 8 = young yin, 9 = old yang
    let line = (sum === 7 || sum === 9) ? 1 : 0;
    lines.push(line);
    coinText += `Line ${6 - i}: ${c1}, ${c2}, ${c3} → ${sum}<br>`;
  }

  const key = lines.join('');
  const hex = hexagrams[key] || {
    name: "Unknown Hexagram",
    business: "Mixed signals. Stay flexible.",
    relationship: "Clarity comes with time.",
    yesno: "Unclear. Ask again later."
  };

  document.getElementById('coins').innerHTML = coinText;

  document.getElementById('hexagram').innerHTML = lines
    .slice()
    .reverse()
    .map(l => `<div class='line'>${l ? '━━━━━━━' : '━━━ ━━━'}</div>`)
    .join('');

  document.getElementById('result').innerHTML = `<strong>${hex.name}</strong><br>${hex[mode]}`;
}
</script>

</body>
</html>
